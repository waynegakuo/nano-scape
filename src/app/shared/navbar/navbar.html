<header class="navbar" aria-label="Primary">
  <div class="container navbar__inner">
    <a class="navbar__brand" href="/" aria-label="Nano Scape home">
      <img
        ngSrc="/assets/logos/nano-scape-logo.svg"
        width="160"
        height="60"
        alt="Nano Scape"
      />
    </a>

    <nav class="navbar__nav" aria-label="Main navigation">
<!--      <app-user-auth></app-user-auth>-->
      <div class="why-menu" [class.open]="whyOpen()">
        <button
          type="button"
          class="why-trigger"
          (click)="toggleWhy()"
          aria-haspopup="dialog"
          [attr.aria-expanded]="whyOpen()"
          aria-controls="why-popup"
        >
          <span class="why-icon" aria-hidden="true">
            <!-- info-circle icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10Z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M12 17v-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <circle cx="12" cy="8" r="1" fill="currentColor"/>
            </svg>
          </span>
        </button>

        <div
          id="why-popup"
          class="why-popup"
          role="dialog"
          aria-labelledby="why-title"
          aria-modal="false"
          [attr.aria-hidden]="!whyOpen()"
          (keydown.escape)="closeWhy()"
        >
          <h2 id="why-title" class="why-title">How to use Nano Scape</h2>
          <ul class="why-list">
            <li>
              <span class="bullet" aria-hidden="true">âŒ¨ï¸</span>
              <span><strong>User Input:</strong> The user provides a concept, such as a city and country for a weather scape, the name of a stadium, a character description, or a company name.</span>
            </li>
            <li>
              <span class="bullet" aria-hidden="true">ğŸ¤–</span>
              <span><strong>AI Orchestration:</strong> Genkit orchestrates a flow that takes the user's input and creates a detailed prompt for the Gemini model.</span>
            </li>
            <li>
              <span class="bullet" aria-hidden="true">ğŸ–¼ï¸</span>
              <span><strong>Image Generation:</strong> The prompt is sent to Gemini 3 Pro's Nano Banana Pro, which generates a unique 3D isometric "Nano Scape" of the concept.</span>
            </li>
            <li>
              <span class="bullet" aria-hidden="true">ğŸ–¥ï¸</span>
              <span><strong>Display and Download:</strong> The generated image is displayed in the web interface, and the user has the option to download it.</span>
            </li>
            <li>
              <span class="bullet" aria-hidden="true">ğŸ“œ</span>
              <span><strong>History:</strong> The user's prompt is saved to Firebase Firestore, allowing for quick access to previously generated scenes.</span>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
</header>
